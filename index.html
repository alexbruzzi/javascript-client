  <!DOCTYPE html>
<html>
<head>
  <title>Octo Javascript Client</title>
  <!-- Bootstrap minified CSS -->
  <link rel="stylesheet" href="libs/bootstrapv3/css/bootstrap.min.css">

  <!-- Bootstrap minified Optional theme -->
  <link rel="stylesheet" href="libs/bootstrapv3/css/bootstrap-theme.min.css">

</head>
<body>
  <div class="container">
    <div class="row">
      <div class="title">
        <h2>Octo Javascript Client</h2>
      </div>
    </div>
    <div class="row">
      <button class="btn btn-primary" onclick="initCall()">
        App Init
      </button>
      <button class="btn btn-primary" onclick="loginCall()">
        App Login
      </button>
      <button class="btn btn-primary" onclick="logoutCall()">
        App Logout
      </button>
      <button class="btn btn-primary" onclick="$.octo.pageView">
        App Pageview
      </button>
      <button class="btn btn-primary" onclick="productviewCall()">
        App Product Pageview
      </button>
      <button class="btn btn-primary" onclick="updateProfile()">
        Update Profile
      </button>
      <button class="btn btn-primary" onclick="addProduct()">
        Add Product
      </button>
    </div>
    <div class="row">
      <h4>Request JSON</h4>
      <div class="jsonTag">
        <!-- Dummy JSON goes here -->
        <pre></pre>
      </div>
    </div>
    <div class="row">
      <h4>Response JSON</h4>
      <div class="response">
        <!- Response JSON -->
        <pre></pre>
      </div>
    </div>
  </div>

  <!-- Include Jquery -->
  <script src="libs/jquery/jquery-1.11.1.min.js"></script>

  <!-- Include cookie.js -->
  <script type="text/javascript" src="libs/jquery.cookie.js"></script>

  <!-- Bootstrap minified JavaScript -->
  <script src="libs/bootstrapv3/js/bootstrap.min.js"></script>

  <script type="text/javascript" src="libs/octo.js"></script>

  <script type="text/javascript">
    
    // Javascript Goes here

    var baseUrl = "http://127.0.0.1:8000";
    var API_KEY = "2cf4edcc20ca2cc4ff1f7e29779c8dc6";
    var initUrl = baseUrl.concat("/events/app.init/");
    var loginUrl = baseUrl.concat("/events/app.login/");
    var logoutUrl = baseUrl.concat("/events/app.logout/");
    var pageUrl = baseUrl.concat("/events/page.view/");
    var productUrl = baseUrl.concat("/events/productpage.view/");
    var profileUrl = baseUrl.concat("/update_profile/");
    var addProductUrl = baseUrl.concat("/product/");


    function initCall(){
      $('.jsonTag').html("<pre>" + JSON.stringify(json_data_common, undefined, 2) + "</pre>");
      $.octo.ajax(initUrl, json_data_common, {apikey: API_KEY});
    }

    function loginCall(){
      $('.jsonTag').html("<pre>" + JSON.stringify(json_data_common, undefined, 2) + "</pre>");
      $.octo.ajax(loginUrl, json_data_common, {apikey: API_KEY});
    }

    function logoutCall(){
      $('.jsonTag').html("<pre>" + JSON.stringify(json_data_common, undefined, 2) + "</pre>");
      $.octo.ajax(logoutUrl, json_data_common, {apikey: API_KEY});
    }

    function pageviewCall(){
      $('.jsonTag').html("<pre>" + JSON.stringify(json_data_page, undefined, 2) + "</pre>");
      $.octo.ajax(pageUrl, json_data_page, {apikey: API_KEY});
    }

    function productviewCall(){
      $('.jsonTag').html("<pre>" + JSON.stringify(json_data_product, undefined, 2) + "</pre>");
      $.octo.ajax(productUrl, json_data_product, {apikey: API_KEY});
    }

    function updateProfile(){
      $('.jsonTag').html("<pre>" + JSON.stringify(json_data_profile, undefined, 2) + "</pre>");
      $.octo.ajax(profileUrl, json_data_profile, {apikey: API_KEY});
    }

    function addProduct(){
      $('.jsonTag').html("<pre>" + JSON.stringify(json_add_product, undefined, 2) + "</pre>");
      $.octo.ajax(addProductUrl, json_add_product, {apikey: API_KEY});
    }

    // Ajax callback function
    function onSuccess(data) {
      console.log(data);
      $('.response').html("<pre>" + JSON.stringify(data, undefined, 2) + "</pre>");
    }

    // Ajax callback function
    function onError(data) {
      $('.response').html("<pre>" + JSON.stringify(data.responseJSON, undefined, 2) + "</pre>");
    }

    var browser_details_json = {
        name: $.octo.browser_name(),
        platform: navigator.platform,
        manufacturer: navigator.vendor,

      };

    var json_data_common = {
      userId: 123456789,
      browserDetails: browser_details_json
    };

    var json_data_page = {
      userId: 123456789,
      browserDetails: browser_details_json,
      routeUrl: "/Home/DealsOfTheDay/34",
      categories: [
        "shopping"
      ],
      tags: [
        "handbags",
        "aldo",
        "yellow"
      ]
    };

    var json_data_product = {
      userId: 123456789,
      browserDetails: browser_details_json,
      routeUrl: "/Home/DealsOfTheDay/23",
      categories: [
        "shopping"
      ],
      tags: [
        "handbags",
        "aldo",
        "yellow"
      ],
      productId: 63725,
      productName: "Smartphone Series S01",
      price: 99.99
    };

    var json_data_profile = {
      userId: 123456789,
      browserDetails: browser_details_json,
      profileDetails: {
        email: 'ravingupta129@gmail.com',
        username: 'username',
        gender: 'Male',
        dob: '321ded12dw1d2s1',
        alternate_email: '',
        mobile: '123467890',
        extras: ''
      }
    };

    var json_add_product = {
      routeUrl: "/Home/DealsOfTheDay/23",
      categories: [
        "shopping"
      ],
      tags: [
        "handbags",
        "aldo",
        "yellow"
      ],
      productId: 63725,
      productName: "Smartphone Series S01",
      price: 99.99
    };

  $.octo.apikey = API_KEY;

  $.octo.init({
  });
  
  </script>
</body>
</html>
